:root {
	--family: "JetBrains Mono", Consolas, monospace;
	--checkmark-color: #25976a;
	--btn-transition: color 500ms ease, background-color 500ms ease,
		transform 100ms ease-in, box-shadow 100ms ease-in;
}

body.correct {
	--bg-gradient: #0d3315;
}

body.correct #lesson-content {
	--bg-stop-1: #a9f2c0;
}

body.correct .inl-code,
body.correct .div-code,
body.correct .code-comment {
	background-color: #306939;
}

body.wrong {
	--bg-gradient: #330d0d;
}

body.wrong #lesson-content {
	--bg-stop-1: #f2a9a9;
}

body.wrong .inl-code,
body.wrong .div-code,
body.wrong .code-comment {
	background-color: #693030;
}

@property --progress-width {
	syntax: "<percentage>";
	inherits: false;
	initial-value: 0%;
}

@property --bg-stop-1 {
	syntax: "<color>";
	inherits: false;
	initial-value: #bca9f2;
}

@property --gradient-angle {
	syntax: "<angle>";
	inherits: false;
	initial-value: 0deg;
}

.nav-item {
	max-width: 120px;
	text-align: right;
}

.nav-link:hover {
	color: aqua;
	text-shadow: 0 0 5px aqua;
	transform: scale(1.1) rotate(4deg);
}

.navbar-nav {
	/* Ensure the nav list uses the full space and distributes items */
	width: 100%;
	flex-direction: row; /* Default to horizontal */
	align-items: center; /* Vertically align items in the center */
	justify-content: space-between;
	gap: 1rem;
}

#back {
	padding: 0.5rem 1rem;
	/* Keep this element minimal */
}

.progress-nav-item {
	flex-grow: 1;
	max-width: 100%;
	margin: 0 20px;
}

.logo-item {
	text-align: right;
	margin-right: 15px;
}

.logo-responsive {
	max-width: 120px;
	height: auto;
	display: block;
}

#progress {
	width: 100%;
	height: 25px;
	border-radius: 8px;
	background-color: #4d4fdf7a;
	overflow: hidden;
	margin: 0;
}

.container {
	flex: 1 1 400px; /* Match lesson-content sizing */
	width: 100%;
	max-width: 600px;
	display: flex;
	flex-direction: column;
	margin: 0;
}

.parent {
	width: 100vw;
	min-height: 80vh;
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
	justify-content: center;
	align-items: flex-start;
	gap: 2rem;
	padding: 2rem;
	box-sizing: border-box;
}

.inl-block {
	width: 100%;
	display: flex;
	justify-content: left;
}

.inl-block > * {
	margin-right: 20px;
	z-index: 4;
}

#back:hover {
	cursor: pointer;
}

.codeEdit {
	z-index: 2;
	color: white;
	resize: none;
	outline: none;
	border-radius: 8px;
	font-family: var(--family);
}

.codeEdit code {
	font-family: var(--family);
}

.codeEdit code:focus {
	outline: none;
}

.codeEdit code:empty::before {
	content: "\200B";
	display: inline-block;
}

.code-editor-wrap {
	position: relative;
	width: 100%;
	min-height: 300px;
}

textarea.codeEdit,
pre.codeEdit {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 70%;
	margin: 0;
	border: none;
	font-size: 1rem;
	line-height: 1.5;
	box-sizing: border-box;
	font-family: var(--family);
	white-space: pre-wrap;
}

textarea.codeEdit {
	tab-size: 4;
	background: transparent;
	color: #0000;
	z-index: 4;
	resize: none;
	outline: none;
	caret-color: white;
	padding-top: 26px;
	padding-left: 60.8px;
	padding-right: 8px;
	overflow-y: scroll;
	scrollbar-width: none;
}

textarea.codeEdit::selection {
	background-color: #374151;
	color: white;
	word-wrap: break-word;
}

textarea.codeEdit::-webkit-scrollbar {
	opacity: 0;
}

pre.codeEdit {
	pointer-events: none;
	z-index: 1;
	overflow-y: scroll;
	white-space: pre-wrap;
	word-wrap: break-word;
	overflow-wrap: break-word;
	position: relative;
	padding: 4px;
	background: transparent !important;
}

pre.codeEdit::after {
	content: "";
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;

	background-color: black;
	inset: 3px;
	z-index: 1;
	border-radius: 8px;
}

pre.codeEdit::before {
	content: "";
	position: absolute;
	z-index: -1;
	scale: 0.9;
	inset: -10px;
	background: linear-gradient(
		var(--gradient-angle),
		#ff00cc,
		#3333ff,
		#00ffff
	);

	border-radius: 12px;
	transform: rotate(--gradient-angle);
	transition: opacity 0.5s ease, scale 0.5s ease;
	opacity: 0;
}

.code-editor-wrap:focus-within pre.codeEdit::before {
	opacity: 1;
	scale: 1;
	animation: spin 10s linear infinite;
}

#logo-img {
	width: 30px;
	height: auto;
}

#highlight {
	width: 100%;
	display: block;
	white-space: pre-wrap;
	overflow-wrap: anywhere;
	word-wrap: break-word;
	word-break: break-word;
	background-color: transparent;
	z-index: 3;
}

#runBtn {
	padding: 6px 20px;
	width: 80px;
	border-radius: 5px;
	background-color: green;
	color: white;
	border: 2px white solid;
	transition: var(--btn-transition);
	display: inline;
	box-shadow: 0 8px 0 0 rgb(0, 63, 0);
	margin-bottom: 10px;
}

#stopBtn {
	padding: 6px 20px;
	width: 80px;
	border-radius: 5px;
	background-color: red;
	color: white;
	border: 2px white solid;
	transition: var(--btn-transition);
	display: inline;
	box-shadow: 0 8px 0 0 rgb(63, 0, 0);
	margin-bottom: 10px;
}

#runBtn:hover {
	background-color: rgb(0, 192, 0);
	transform: translateY(2px);
	box-shadow: 0 6px 0 0 rgb(0, 63, 0);
}

#stopBtn:hover {
	background-color: rgb(255, 63, 63);
	transform: translateY(2px);
	box-shadow: 0 6px 0 0 rgb(63, 0, 0);
}

#runBtn:active {
	background-color: white;
	color: green;
	transform: translateY(8px);
	box-shadow: 0 0 0 0 rgb(0, 63, 0);
}

#stopBtn:active {
	background-color: white;
	color: red;
	transform: translateY(8px);
	box-shadow: 0 0 0 0 rgb(63, 0, 0);
}

#runBtn:disabled,
#stopBtn:disabled {
	background-color: rgb(66, 66, 66);
	color: rgb(123, 123, 123);
	box-shadow: 0 8px 0 0 rgb(0, 0, 0);
	border: 2px rgb(123, 123, 123) solid;
}

#runBtn:disabled:hover,
#stopBtn:disabled:hover {
	background-color: rgb(66, 66, 66);
	color: rgb(159, 159, 159);
	box-shadow: 0 6px 0 0 rgb(0, 0, 0);
	border: 2px rgb(159, 159, 159) solid;
}

#runBtn:disabled:active,
#stopBtn:disabled:active {
	background-color: rgb(66, 66, 66);
	color: rgb(159, 159, 159);
	box-shadow: 0 0 0 0 rgb(0, 0, 0);
	border: 2px rgb(159, 159, 159) solid;
}

#output {
	box-sizing: border-box;
	width: 500px;
	height: 145px;
	resize: none;
	padding: 10px;
	background-color: #8a5cf62d;
	z-index: 4;
	margin-top: 10px;
	color: white;
	outline: none;
	border-radius: 8px;
	border: none;
	font-size: 1rem;
	font-family: var(--family);
	white-space: pre-wrap;
	word-wrap: break-word;
	overflow-y: scroll;
}

.code-editor-wrap pre.codeEdit::-webkit-scrollbar,
.code-editor-wrap textarea.codeEdit::-webkit-scrollbar {
	display: none;
}

.code-editor-wrap pre.codeEdit,
.code-editor-wrap textarea.codeEdit {
	scrollbar-width: none; /* for Firefox */
}

#progress {
	width: 100%;
	height: 25px;
	border-radius: 8px;
	margin: 0 auto;
	display: flex;
	align-items: center;
	background-color: #4d4fdf7a;
	overflow: hidden;
}

#bar {
	width: var(--progress-width);
	height: 100%;
	background: linear-gradient(90deg, #4caf50, #2196f3);
	border-radius: 8px;
	transition: width 0.5s ease;
	display: flex;
	justify-content: center;
	align-items: center;
}

.logo-responsive {
	max-width: 120px;
	height: auto;
}

#lesson-content {
	/* Flex sizing: grow, shrink, min-width basis */
	flex: 1 1 400px;
	width: 100%;
	max-width: 600px; /* Prevent it from getting too wide for reading */
	height: 79vh; /* Dynamic height based on viewport */
	min-height: 400px; /* Minimum height safety */

	margin-top: 0; /* Handled by parent gap/padding now */
	background-color: var(--bg-stop-1);
	color: black;
	border-radius: 6px;
	padding: 20px;
	overflow-y: auto; /* Scroll if content overflows */
	transition: background-color 800ms ease;
}

#lesson-content > #title {
	text-align: center;
	font-weight: 900;
}

.inl-code,
.div-code {
	background-color: #3c3069;
	color: white;
	padding: 4px;
	border-radius: 4px;

	transition: background-color 800ms ease;
}

.code-comment {
	font-style: italic;
	color: #ffffff7d;
	padding: 0;
	z-index: 5;
	background-color: #3c3069;

	transition: background-color 800ms ease;
}

.code-comment::before {
	content: "â€Ž ";
}

@keyframes spin {
	0% {
		--gradient-angle: 0deg;
	}
	100% {
		--gradient-angle: 360deg;
	}
}
